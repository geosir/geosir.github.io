<!doctype html>
<html>
        <head>
                <title>George's Website</title>
                <link rel="stylesheet" type="text/css" href="george.css">
                <script src="https://code.jquery.com/jquery-1.12.2.min.js" integrity="sha256-lZFHibXzMHo3GGeehn1hudTAP3Sc0uKXBXAzHX1sjtk=" crossorigin="anonymous"></script>
                <script src="/meta/ga.js"></script>
                <script>
                        $(document).ready(function(){
                             $("#logobox").css("margin-top", ((window.innerHeight - $("#logobox").height())*5/12));
                        });
                        $(document).ready(function(){
                                //if(window.location.hash == "")
                                //{
                                loadPage(window.location.hash.replace("#", ""), function(){
                                        setTimeout(function(){
                                                $("#contentarea").show();
                                                $("#logobox").animate({marginTop: "2vh", marginBottom: "2vh", height: "10vh"}, 1000);
                                                $("#pagearea").animate({width: "80vw"}, 1000, function(){
                                                        $("body").css({overflowY: "auto"});
                                                });
                                                $("#menulist").animate({marginLeft: "-20vw"}, 1000);
                                                $(".page").animate({marginLeft: "5vw"}, 1000);
                                                $("#footer").fadeIn(1000);
                                                $("#cover").animate({opacity: 0.4}, 1000);
                                        }, 500);
                                });
                                //}
                                /*else
                                {
                                        var target = window.location.hash.replace("#", "");
                                        loadPage(window.location.hash.replace("#", ""), function(){
                                                $("#contentarea").show();
                                                $("#logobox").css({marginTop: "2vh", marginBottom: "2vh", height: "10vh"});
                                                $("#pagearea").css({width: "80vw"});
                                                $("#menulist").css({marginLeft: "-20vw"});
                                                $(".page").css({marginLeft: "5vw"});
                                                $("#cover").css({opacity: 0.4});
                                                $("#footer").show();
                                                $("body").css({overflowY: "auto"});
                                        });
                                }*/
                                
                                updateMenu();
                                                                
                                window.onhashchange = function(){
                                        updateMenu();
                                        var target = window.location.hash.replace("#", "");
                                        changeToPage(target);
                                };
                                
                                function updateMenu()
                                {
                                        $("#menulist a").removeClass("present");
                                        $("#menulist a").each(function(){
                                                if($(this).attr("href") == window.location.hash.split("/")[0] || (window.location.hash == "" && $(this).attr("href") == "#home"))
                                                {    
                                                        $(this).addClass("present");
                                                        return false;
                                                }
                                        });
                                }
                                
                                function changeToPage(target)
                                {
                                        $("body").css({overflowY: "hidden"});
                                        $(".page").animate({marginLeft: "-35vw"}, 300);
                                        $("#contentarea").animate({width: 0}, 300, function(){
                                                $("#contentarea").hide();
                                                loadPage(target, function(){
                                                        $("#contentarea").show();
                                                        $("#contentarea").animate({width: "100%"}, 300, function(){
                                                                $("body").css({overflowY: "auto"});
                                                        });
                                                        $(".page").animate({marginLeft: "5vw"}, 300);
                                                });
                                        });
                                }
                                
                                function loadPage(page, callback)
                                {
                                        $.get("/pages/"+page+"/", function(data){
                                                $("#contentarea").html(data);
                                        }).fail(function(){
                                                $.get("/pages/404/", function(data){
                                                        $("#contentarea").html(data);
                                                }).always(callback);;
                                        }).done(callback);
                                }
                        
                        });                        
                </script>
                        
        </head>
        <body>
                <div id="cover"></div>
                <div id="logobox"></div>
                <div id="pagearea">
                        <div id="menu">
                                <div id="menubox">
                                        <ul id="menulist">
                                                <li><a href="#home">Home</a></li>			
                                                <li><a href="#1507">1507</a></li>				
                                                <li><a href="#resume">Resume</a></li>
                                                <li><a href="#portfolio">Portfolio</a></li>	
                                                <li><a href="#projects">Projects</a></li>		
                                        </ul>
                                </div>
                        </div>
                        <div id="contentarea">
                        </div>
                </div>
                <div id="footer">Copyright &copy; 2016 George Moe</div>
        </body>
</html>
        
                 
