<!doctype html>
<html>
        <head>

                <meta name="viewport" content="width=device-width, minimum-scale=1.0, initial-scale=1, user-scalable=yes">

                <title>george.moe</title>
                
                <link rel="stylesheet" type="text/css" href="/meta/main.css" />
                <script src="//code.jquery.com/jquery-1.11.2.min.js"></script>
                <script src="//code.jquery.com/jquery-migrate-1.2.1.min.js"></script>
                <script src="/meta/menuloader.js"></script>

                <script src="/bower_components/webcomponentsjs/webcomponents.js"></script>

                <link rel="import" href="/meta/imports.html">
                
                <style id="style">
			.class-form
			{
				background-color: rgba(256, 256, 256, 0.5);
				padding: 1rem;
			}
			
			table
			{
				table-layout: fixed;
				border-collapse: collapse;
				border: 1px solid gray;
				width: 100%;
				background-color: white;
				text-align: center;
			}
			table span.text
			{
				veritcal-align: center;
			}
			#blocks
			{
				width: 4rem;
			}
			td, th
			{
				border: 1px solid gray;
				height: 4em;
				overflow: hidden;
				white-space: nowrap; 
			}
			th
			{
				background-color: #98D5FF;
			}
			input
			{
			        font-size: 1.2em;
		        }
		        #schedule-update, #print-button
		        {
		                color: white;
		                background-color: #4285f4;
		                margin: 1%;
                        }
                        .section
                        {
                                border: 1px solid rgb(200,200,200);
                                padding: 1%;
                                margin: 2% 0%;
                        }
                        paper-checkbox
                        {
                                padding: 1%;
                                border-left: 1px solid rgb(200,200,200);
                                border-right: 1px solid rgb(200,200,200);
                        }
                        #color-patch
                        {
                                /*background-color: #ff4444;*/
                                width: 50px;
                                height: 50px;
                                border: 1px solid rgb(200,200,200);
                                background-color: rgb(255,60,60);
                        }
                        
                        #red-slider::shadow #sliderKnobInner, #red-slider::shadow #sliderBar::shadow #activeProgress
                        {
                                background-color: red;
                        }
                        #blue-slider::shadow #sliderKnobInner, #blue-slider::shadow #sliderBar::shadow #activeProgress
                        {
                                background-color: blue;
                        }
                        #green-slider::shadow #sliderKnobInner, #green-slider::shadow #sliderBar::shadow #activeProgress
                        {
                                background-color: green;
                        }
                        
		</style>
        </head>
        <body fullbleed unresolved layout vertical>
                <core-drawer-panel id="drawer-panel" drawerWidth=200px forceNarrow>
                        <core-header-panel drawer mode="waterfall" unselectable>
                                <core-toolbar class="drawer" >
                                        <span flex >Navigate!</span>
                                </core-toolbar>
                                <div id="main-menu">
                                        
                                </div>
                        </core-header-panel>
                        <core-header-panel main mode="waterfall">
                                <!--<core-tooltip id="feedback-button" class="fancy" label="Feedback">
                                        <paper-fab icon="thumbs-up-down"></paper-fab>
                                </core-tooltip>-->
                                <core-toolbar class="main" layout vertical>
                                        <paper-icon-button id="navicon" icon="menu"></paper-icon-button>
                                        <span flex>
                                                <a class="homeselect" href="/"><h1 class="title" unselectable self-center>george.moe</h1></a>
                                        </span>
                                </core-toolbar>
                                <div>
                                        <paper-shadow z=4 class="card card-title">
                                                <div class="content">
                                                        <core-icon icon="warning" style="width: 100px; height: 100px; color: #FFA100;"></core-icon>
                                                        <h1>Hard hat area! This site is currently under construction.</h1>
                                                        <p>Content may be incomplete, and some things might be buggy! Thank you for your patience.</p>
                                                </div>
                                        </paper-shadow>
                                        <paper-shadow z=4 class="card" layout horizontal?={{!phoneScreen}}>
                                                <div class="content" auto-vertical flex>
                                                        <h1 class="lead-text"><b>George's New Schedule Machine</b></h1>
                                                        <p>Use the input box below to enter your class information, and watch your schedule magically appear!<br />
				                        <i>Mistakes are OK! Double-click on a box to clear its contents.</i></p>
				                        <div class="section">
				                                <paper-input flex id="class-name" label="Course Name" name="classname" floatingLabel></paper-input>
				                                <paper-input flex id="teacher-name" label="Teacher" name="teacher" floatingLabel></paper-input>
			                                        <paper-input flex id="room-name" label="Room" name="room" floatingLabel></paper-input>
				                                <br />
				                                <b>Mod: </b><paper-dropdown-menu label="Mod" floatingLabel>
                                                                    <paper-dropdown class="dropdown">
                                                                        <core-menu class="menu">
                                                                            <paper-item>1</paper-item>
                                                                            <paper-item>2</paper-item>
                                                                            <paper-item>3</paper-item>
                                                                            <paper-item>4</paper-item>
                                                                            <paper-item>5</paper-item>
                                                                            <paper-item>6</paper-item>
                                                                            <paper-item>7</paper-item>
                                                                            <paper-item>8</paper-item>
                                                                        </core-menu>
                                                                    </paper-dropdown>
                                                                </paper-dropdown-menu>
				                                <b>Days: </b>
				                                <paper-checkbox class="days" name="days" label="A"></paper-checkbox>
				                                <paper-checkbox class="days" name="days" label="B"></paper-checkbox>
				                                <paper-checkbox class="days" name="days" label="C"></paper-checkbox>
				                                <paper-checkbox class="days" name="days" label="D"></paper-checkbox>
				                                <br />

				                                <b>Color: </b><br />
				                                <paper-slider editable id="red-slider" min="0" max="255" value="255"></paper-slider><br />
				                                <paper-slider editable id="green-slider" min="0" max="255" value="60"></paper-slider><br />
			                                        <paper-slider editable id="blue-slider" min="0" max="255" value="60"></paper-slider><br />
				                                <div id="color-patch"></div>
				                                <br />
				                                <paper-button id="schedule-update" onClick="updateSchedule()">Update Schedule</paper-button>
			                                </div>
				                        <div id="areaToPrint">
					                        <table id="table">
						                        <col id="blocks" />
						                        <col id="A" />
						                        <col id="B" />
						                        <col id="C" />
						                        <col id="D" />
						                        <tr>
							                        <th>Mod</th>
							                        <th>A</th>
							                        <th>B</th>
							                        <th>C</th>
							                        <th>D</th>
						                        </tr>
						                        <tr>
							                        <th>1<br />8:00AM</th>
							                        <td> </td>
							                        <td> </td>
							                        <td> </td>
							                        <td> </td>
						                        </tr>
						                        <tr>
							                        <th>2<br />9:00AM</th>
							                        <td> </td>
							                        <td> </td>
							                        <td> </td>
							                        <td> </td>
						                        </tr>
						                        <tr>
							                        <th>3<br />10:00AM</th>
							                        <td> </td>
							                        <td> </td>
							                        <td> </td>
							                        <td> </td>
						                        </tr>
						                        <tr>
							                        <th>4<br />11:00AM</th>
							                        <td> </td>
							                        <td> </td>
							                        <td> </td>
							                        <td> </td>
						                        </tr>
						                        <tr>
							                        <th>5<br />12:20PM</th>
							                        <td> </td>
							                        <td> </td>
							                        <td> </td>
							                        <td> </td>
						                        </tr>
						                        <tr>
							                        <th>6<br />1:20PM</th>
							                        <td> </td>
							                        <td> </td>
							                        <td> </td>
							                        <td> </td>
						                        </tr>
						                        <tr>
							                        <th>7<br />2:20PM</th>
							                        <td> </td>
							                        <td> </td>
							                        <td> </td>
							                        <td> </td>
						                        </tr>
						                        <tr>
							                        <th>8<br />3:20PM</th>
							                        <td> </td>
							                        <td> </td>
							                        <td> </td>
							                        <td> </td>
						                        </tr>
					
					                        </table>
				                        </div>
				                        <paper-button id="print-button" onClick="printDiv()">Print</paper-button>
                                                       
                                                </div>
                                        </paper-shadow>
                                        <paper-shadow z=4 class="card card-title">
                                                <div class="content">
                                                        <core-icon icon="warning" style="width: 100px; height: 100px; color: #FFA100;"></core-icon>
                                                        <h1>Hard hat area! This site is currently under construction.</h1>
                                                        <p>Content may be incomplete, and some things might be buggy! Thank you for your patience.</p>
                                                </div>
                                        </paper-shadow>
                                </div>
                        </core-header-panel>
                </core-drawer-panel>
                <script>
			function pad(n, width, z) 
			{
                                z = z || '0';
                                n = n + '';
                                return n.length >= width ? n : new Array(width - n.length + 1).join(z) + n;
                        }
                        
                        //form elements
                        var rslider = document.getElementById("red-slider");
                        var gslider = document.getElementById("green-slider");
                        var bslider = document.getElementById("blue-slider");
                        
                        var className = document.getElementById("class-name");
                        var teacherName = document.getElementById("teacher-name");
                        var roomName = document.getElementById("room-name");
                        var mods = document.querySelector("paper-dropdown-menu");
                        var days = document.getElementsByClassName("days");
                        
                        //values
                        var color = "#FF4444";
                        
			document.addEventListener("polymer-ready", function(){
                                rslider.addEventListener("immediate-value-change", function(){
                                        color = "rgb("+rslider.immediateValue+","+gslider.immediateValue+","+bslider.immediateValue+")";
                                        document.getElementById("color-patch").style.backgroundColor = color;
                                        //document.querySelector("paper-slider::shadow #sliderKnobInner").style.backgroundColor = color;
                                });
                                gslider.addEventListener("immediate-value-change", function(){
                                        color = "rgb("+rslider.immediateValue+","+gslider.immediateValue+","+bslider.immediateValue+")";
                                        document.getElementById("color-patch").style.backgroundColor = color;
                                });
                                bslider.addEventListener("immediate-value-change", function(){
                                        color = "rgb("+rslider.immediateValue+","+gslider.immediateValue+","+bslider.immediateValue+")";
                                        document.getElementById("color-patch").style.backgroundColor = color;
                                });
                        });  
			
			function updateSchedule()
			{
				console.log(className.value);
				console.log(teacherName.value);
				console.log(roomName.value);
				console.log(mods.selectedItemLabel);
				console.log(days);

				table = document.getElementById("table");
				
				for(i=0; i<days.length; i++)
				{
					if(days[i].checked==true)
					{
						table.rows[parseInt(mods.selectedItemLabel)].cells[i+1].innerHTML = 
							"<span class=\"text\"><p><b>"+className.value+"</b><br /><i>"+roomName.value+"</i><br />"+teacherName.value+"</p></span>";
						table.rows[parseInt(mods.selectedItemLabel)].cells[i+1].style.backgroundColor = color;
						console.log(color);
					}
				}
			}
			
			function printDiv()
			{
				var divToPrint=document.getElementById("areaToPrint");
				var style = document.getElementById("style");
				newWin= window.open("");
				newWin.document.write(style.outerHTML);
				newWin.document.write(divToPrint.outerHTML);
				newWin.print();
			}
			
			$("document").ready(function(){
				$("td").dblclick(function(){
					this.innerHTML = "";
					this.style.backgroundColor = "";
				});
				console.log("Click to erase loaded.");
				
				orig_border_width = parseInt($("td").css("border-width"));
				orig_border_color = $("td").css("border-color");
				$("td").hover(function(){
					this.style.borderWidth = String(orig_border_width*2);
					this.style.borderColor = "#FF4719";
				},
				function(){
					this.style.borderWidth = String(orig_border_width);
					this.style.borderColor = orig_border_color;
				});
				console.log("Border width change on hover loaded.");
			});
		</script>
        </body>
</html>

