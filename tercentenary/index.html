<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Tercentenary Labs</title>
    <style>
        body {
            overflow: hidden;
            margin: 0;
            width: 100vw;
            height: 100vh;
        }

        #bg, #f1, #f2 {
            width: 110vw;
            height: 110vh;
            position: absolute;
            left: -5vw;
            top: -5vh;
        }

        #bg {
            background-image: url("space.jpg");
            background-size: cover;
            background-position: center;
            z-index: 0;
        }

        #f1 {
            background-image: url("fill.png");
            background-size: 200%;
            background-position: top left;
            z-index: 25;
        }

        #f2 {
            background-image: url("fill.png");
            background-size: 180%;
            background-position: bottom right;
            z-index: 50;
        }

        #t {
            background: url(tercentenary.png);
            background-size: contain;
            background-repeat: no-repeat;
            background-position: center;
            width: 40vw;
            height: 40vh;
            position: absolute;
            left: 30vw;
            top: 30vh;
            z-index: 100;
        }

        #c {
            background-color: black;
            opacity: 1;
            width: 100vw;
            height: 100vh;
            position: absolute;
            left: 0;
            top: 0;
            z-index: 75;
        }
    </style>
    <script>
        window.onload = function () {

            var body = document.getElementById('body');
            var bg = document.getElementById('bg');
            var f1 = document.getElementById('f1');
            var f2 = document.getElementById('f2');
            var left0 = bg.offsetLeft,
                top0 = bg.offsetTop;

            var bg_tleft = left0,
                bg_ttop = top0,
                f1_tleft = left0,
                f1_ttop = top0,
                f2_tleft = left0,
                f2_ttop = top0;
            var bg_cleft = left0,
                bg_ctop = top0,
                f1_cleft = left0,
                f1_ctop = top0,
                f2_cleft = left0,
                f2_ctop = top0;

            setInterval(updateParallax, 20);

            function updateParallax() {
                var swing_weight = 0.05;
                bg_cleft = (bg_cleft * (1 - swing_weight) + bg_tleft * swing_weight);
                bg_ctop = (bg_ctop * (1 - swing_weight) + bg_ttop * swing_weight);
                f1_cleft = (f1_cleft * (1 - swing_weight) + f1_tleft * swing_weight);
                f1_ctop = (f1_ctop * (1 - swing_weight) + f1_ttop * swing_weight);
                f2_cleft = (f2_cleft * (1 - swing_weight) + f2_tleft * swing_weight);
                f2_ctop = (f2_ctop * (1 - swing_weight) + f2_ttop * swing_weight);

                bg.style.left = bg_cleft + "px";
                bg.style.top = bg_ctop + "px";
                f1.style.left = f1_cleft + "px";
                f1.style.top = f2_ctop + "px";
                f2.style.left = f2_cleft + "px";
                f2.style.top = f2_ctop + "px";
            }

            body.onmousemove = function (event) {
                event = event || window.event;
                var x = event.clientX,
                    y = event.clientY;
                var offset_x = 2 * x / parseInt(body.offsetWidth) - 1;
                var offset_y = 2 * y / parseInt(body.offsetHeight) - 1;

                bg_tleft = (1 + offset_x * 0.1) * left0;
                bg_ttop = (1 + offset_y * 0.1) * top0;
                f1_tleft = (1 + offset_x * 1) * left0;
                f1_ttop = (1 + offset_y * 1) * top0;
                f2_tleft = (1 + offset_x * 0.5) * left0;
                f2_ttop = (1 + offset_y * 0.5) * top0;
            };

            var cover_c = 1;
            var cover = document.getElementById("c");

            function fadeCover() {
                if (cover_c > 0) {
                    cover_c = Math.max(0, cover_c - 0.01);
                    cover.style.opacity = cover_c;
                    setTimeout(fadeCover, 10);
                }
            }

            setTimeout(fadeCover, 1000);
        }
    </script>
</head>
<body id="body">
<div id="bg"></div>
<div id="f2"></div>
<div id="f1"></div>
<div id="t"></div>
<div id="c"></div>
</body>
</html>